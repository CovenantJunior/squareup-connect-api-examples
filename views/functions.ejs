<%
formatMoney = function(value, currency, isRounded) {
  // Create number formatter.
  const props = {
    style: 'currency',
    currency: currency,
  };

  // Might want to round to no decimal places based on flag.
  if (isRounded) {
    props.maximumFractionDigits = 0;
    props.minimumFractionDigits = 0;
  }
  var formatter = new Intl.NumberFormat('en-US', props);

  return formatter.format(Number(value)/100.0);
}

stringifyJSON = function(data) {
  return JSON.stringify(data, (key, value) =>
    typeof value === "bigint" ? value.toString() : value
  );
}

capitalize = function(str) {
  if(str.includes("_")) {
    const words = str.split("_");
    return capitalize(words[0]) + " " + capitalize(words[1]);
  }
  return str.charAt(0).toUpperCase() + str.toLowerCase().slice(1);
}

getImageForBrand = function(brand) {
  // Wiring the images for each card type. 
  // If path changes or you want to support more cards, change the code here.
  const prefix = "/images/"
  const extension = ".svg";
  let name = "";
  switch(brand) {
    case "VISA": 
      name = "visa";
      break;
    case "MASTERCARD":
      name = "mastercard";
      break;
    case "AMERICAN_EXPRESS":
      name = "apex"
      break;
    default:
      break;
  }

  return prefix + name + extension;
}
%>